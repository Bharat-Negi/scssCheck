<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <title>Bootstrap Dropdown with Checkboxes</title>
    <style>
        .dropdown-menu {
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Select Options
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <h6 class="dropdown-header">Options</h6>
            <div class="dropdown-item">
                <input type="checkbox" id="option1" value="Option 1">
                <label for="option1"> Option 1</label>
            </div>
            <div class="dropdown-item">
                <input type="checkbox" id="option2" value="Option 2">
                <label for="option2"> Option 2</label>
            </div>
            <div class="dropdown-item">
                <input type="checkbox" id="option3" value="Option 3">
                <label for="option3"> Option 3</label>
            </div>
            <div class="dropdown-item">
                <input type="checkbox" id="option4" value="Option 4">
                <label for="option4"> Option 4</label>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    $(document).on('click', function (e) {
        var dropdown = $('#myDropdown');
        var menu = dropdown.find('.dropdown-menu');

        // Close dropdown if click is outside of the dropdown button and menu
        if (!dropdown.is(e.target) && dropdown.has(e.target).length === 0) {
            menu.removeClass('show');
        } else {
            // Prevent dropdown from closing when clicking inside
            menu.addClass('show');
        }
    });

    // Prevent dropdown from closing when clicking inside the dropdown
    $('#myDropdown').on('click', function (e) {
        e.stopPropagation();
    });
</script>

</body>
</html>
